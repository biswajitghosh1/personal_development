{% extends "layout.html" %}
{% block content %}
  <section class="form-section">
    <h2>Edit in {{ section.title }}</h2>
    <form method="post" id="entryForm">
      <div id="pairs">
        {% for k, v in payload.items() %}
          <div class="pair">
            <input name="key[]" value="{{ k }}" placeholder="Field name" required />
            <input name="value[]" value="{{ v }}" placeholder="Value" required />
            <button type="button" class="remove">−</button>
          </div>
        {% endfor %}
        {% if payload|length == 0 %}
          <div class="pair">
            <input name="key[]" placeholder="Field name" />
            <input name="value[]" placeholder="Value" />
            <button type="button" class="remove">−</button>
          </div>
        {% endif %}
      </div>
      <p><button type="button" id="addPair" class="btn">Add field</button></p>
      <p><button type="submit" class="btn primary">Save</button></p>
    </form>
  </section>
{% endblock %}
